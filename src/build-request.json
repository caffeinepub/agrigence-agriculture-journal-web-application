{
  "kind": "build_request",
  "title": "Rollback app to Version v59",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Restore (roll back) the deployed application to version v59, ensuring both the frontend and backend code/state correspond to what was running in v59.",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Restore the v59"
        ]
      },
      "acceptanceCriteria": [
        "Production deployment is running the v59 code (frontend bundle and backend canister WASM match v59).",
        "All primary routes load without runtime errors in the browser console (at minimum: /, /consultation, /products, /subscription, /admin).",
        "The Consultation page renders and its WhatsApp and Mail actions work as they did in v59 (no crashes; buttons enable/disable based on form validity)."
      ]
    }
  ],
  "constraints": [
    "Do not edit any files under frontend/src/components/ui (read-only shadcn components).",
    "Do not modify frontend immutable paths: frontend/src/hooks/useInternetIdentity.ts, frontend/src/hooks/useInternetIdentity.tsx, frontend/src/hooks/useActor.ts, frontend/src/main.tsx, and frontend/src/components/ui.",
    "Keep the backend as a single Motoko actor in backend/main.mo; only introduce backend/migration.mo if restoring v59 requires a state upgrade/downgrade path."
  ],
  "nonGoals": [
    "Implement new consultation features or redesign the consultation flow beyond what is necessary to restore v59 behavior.",
    "Add new third-party integrations or authentication methods beyond Internet Identity."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}